<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Destinos Populares - Turismo Acessível</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
      .gradient-bg {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      }
      .accessible-icon {
        transition: all 0.3s ease;
      }
      .accessible-icon:hover {
        transform: scale(1.1);
      }
    </style>
    <link rel="stylesheet" href="/static/styles/main.css" />
  </head>
  <body class="bg-gray-50 font-sans">
    <nav class="gradient-bg text-white shadow-lg">
      <div
        class="container mx-auto px-4 py-4 flex justify-between items-center"
      >
        <div class="flex items-center space-x-2">
          <i data-feather="map" class="w-8 h-8"></i>
          <span class="text-xl font-bold">Turismo Acessível</span>
        </div>
        <div class="hidden md:flex space-x-6">
          <a href="/" class="hover:text-blue-200 transition">Início</a>
          <a href="/mapa" class="hover:text-blue-200 transition">Mapa</a>
          <a href="/destinos" class="hover:text-blue-200 transition"
            >Destinos</a
          >
          <a href="/sobre" class="hover:text-blue-200 transition">Sobre Nós</a>
          <a href="/contato" class="hover:text-blue-200 transition">Contato</a>
        </div>
        <button class="md:hidden" id="menu-btn">
          <i data-feather="menu" class="w-6 h-6"></i>
        </button>
      </div>
      <div class="md:hidden hidden px-4 pb-4" id="mobile-menu">
        <a href="/" class="block py-2 hover:text-blue-200">Início</a>
        <a href="/mapa" class="block py-2 hover:text-blue-200">Mapa</a>
        <a href="/destinos" class="block py-2 hover:text-blue-200">Destinos</a>
        <a href="/sobre" class="block py-2 hover:text-blue-200">Sobre Nós</a>
        <a href="/contato" class="block py-2 hover:text-blue-200">Contato</a>
      </div>
    </nav>
    <script src="/static/scripts/aos_init.js"></script>
    <script src="/static/scripts/feather_init.js"></script>
    <script src="/static/scripts/menu_mobile.js"></script>
    <section class="gradient-bg text-white py-20" data-aos="fade-down">
      <h1
        class="text-4xl md:text-5xl font-bold mb-6 text-center w-full"
        data-aos="zoom-in"
      >
        Destinos Populares
      </h1>
    </section>
    <section class="py-12 bg-gray-50 px-4 md:px-16" data-aos="fade-up">
      <p class="mb-4">
        Confira alguns dos destinos mais acessíveis e visitados de Angola!
      </p>
      <ul class="list-disc list-inside mb-6">
        <li>Miradouro da Lua</li>
        <li>Fortaleza de São Miguel</li>
        <li>Parque Nacional da Kissama</li>
        <li>Museu da Escravatura</li>
        <li>Serra da Leba</li>
      </ul>
      <hr class="my-6" />
      <h2 class="text-2xl font-semibold mb-4" data-aos="fade-right">
        KPIs e Gráficos
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
        <div
          class="bg-white rounded-lg shadow p-6 flex flex-col items-center justify-center"
          id="kpi-total-atracoes"
          data-aos="fade-up"
        >
          <span class="text-4xl font-bold text-indigo-600" id="kpiTotalAtracoes"
            >...</span
          >
          <span class="text-gray-700 mt-2">Total de atrações</span>
        </div>
        <div
          class="bg-white rounded-lg shadow p-6 flex flex-col items-center justify-center"
          id="kpi-acessiveis"
          data-aos="fade-up"
          data-aos-delay="50"
        >
          <span class="text-4xl font-bold text-green-600" id="kpiAcessiveis"
            >...</span
          >
          <span class="text-gray-700 mt-2">Atrações totalmente acessíveis</span>
        </div>
        <div
          class="bg-white rounded-lg shadow p-6 flex flex-col items-center justify-center"
          id="kpi-total-reservas"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          <span class="text-4xl font-bold text-blue-600" id="kpiTotalReservas"
            >...</span
          >
          <span class="text-gray-700 mt-2">Total de reservas</span>
        </div>
        <div
          class="bg-white rounded-lg shadow p-6 flex flex-col items-center justify-center"
          id="kpi-reservas"
          data-aos="fade-up"
          data-aos-delay="150"
        >
          <span class="text-4xl font-bold text-cyan-600" id="kpiReservas"
            >...</span
          >
          <span class="text-gray-700 mt-2">Reservas em hotéis acessíveis</span>
        </div>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <img
            src="/data/grafico_acessibilidade.png"
            alt="Gráfico de Acessibilidade"
            class="rounded shadow-lg w-full h-80 object-contain"
            data-aos="flip-left"
          />
          <img
            src="/data/grafico_mais_visitadas.png"
            alt="Gráfico de Atrações Mais Visitadas"
            class="rounded shadow-lg w-full h-80 object-contain"
            data-aos="flip-right"
          />
          <img
            src="/data/grafico_reservas_acessibilidade.png"
            alt="Gráfico de Reservas Acessíveis"
            class="rounded shadow-lg w-full h-80 object-contain"
            data-aos="flip-right"
          />
          <img
            src="/data/grafico_tipos_acessibilidade.png"
            alt="Gráfico de Tipos de Acessibilidade"
            class="rounded shadow-lg w-full h-80 object-contain"
            data-aos="flip-right"
          />
          <img
            src="/data/grafico_top10_acessibilidade.png"
            alt="Gráfico Top 10 Acessibilidade"
            class="rounded shadow-lg w-full h-80 object-contain"
            data-aos="flip-right"
          />
          <img
            src="/data/grafico_visitantes_acessibilidade.png"
            alt="Gráfico Visitantes Acessibilidade"
            class="rounded shadow-lg w-full h-80 object-contain"
            data-aos="flip-right"
          />
          <img
            src="/data/grafico_visitas_mensais.png"
            alt="Gráfico de Visitas Mensais"
            class="rounded shadow-lg w-full h-80 object-contain"
            data-aos="flip-right"
          />

      </div>
    </section>
    <script>
      AOS.init({
        duration: 900,
        once: true,
      });
      fetch("/api/atracoes")
        .then((res) => res.json())
        .then((data) => {
          document.getElementById("kpiTotalAtracoes").textContent = data.length;
          const totalAcessiveis = data.filter(
            (d) => String(d.acessibilidade).trim().toLowerCase() === "true"
          ).length;
          document.getElementById("kpiAcessiveis").textContent =
            totalAcessiveis;
        });
      fetch("/data/reservas.csv")
        .then((res) => res.text())
        .then((text) => {
          const linhas = text
            .split("\n")
            .slice(1)
            .filter((l) => l);
          document.getElementById("kpiTotalReservas").textContent =
            linhas.length;
          const total = linhas.filter(
            (l) => l.split(",")[3].trim().toLowerCase() === "true"
          ).length;
          document.getElementById("kpiReservas").textContent = total;
        });
    </script>
  </body>
</html>
